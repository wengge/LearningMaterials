1.@Transactional注解的失效场景
(1)@Transactional 应用在非 public 修饰的方法上
(2)@Transactional 注解属性 propagation 设置错误
(3)@Transactional 注解属性 rollbackFor 设置错误
(4)同一个类中方法调用，导致@Transactional失效
开发中避免不了会对同一个类里面的方法调用，比如有一个类Test，它的一个方法A，A再调用本类的方法B（不论方法B是用public还是private修饰），但方法A没有声明注解事务，而B方法有。则外部调用方法A之后，方法B的事务是不会起作用的。这也是经常犯错误的一个地方。
那为啥会出现这种情况？其实这还是由于使用Spring AOP代理造成的，因为只有当事务方法被当前类以外的代码调用时，才会由Spring生成的代理对象来管理。
(5)异常被你的 catch“吃了”导致@Transactional失效
(6)数据库引擎不支持事务